
[*第三章:NumPy库*](./README.md)


# 3.7. 形状操纵

在创建二维数组的过程中，您已经看到了如何将一维数组转换为矩阵，这要归功于customize()函数。

```python
>>> a = np.random.random(12)
>>> a
array([ 0.77841574,  0.39654203,  0.38188665,  0.26704305,  0.27519705,
        0.78115866,  0.96019214,  0.59328414,  0.52008642,  0.10862692,
        0.41894881,  0.73581471])
>>> A = a.reshape(3, 4)
>>> A
array([[ 0.77841574,  0.39654203,  0.38188665,  0.26704305],
       [ 0.27519705,  0.78115866,  0.96019214,  0.59328414],
       [ 0.52008642,  0.10862692,  0.41894881,  0.73581471]])
```

reshape函数的作用是:返回一个新的数组，从而创建新的对象。但是，如果想通过修改形状来修改对象，则必须将包含新维度的元组直接分配给其形状属性。

```python
>>> a.shape = (3, 4)
>>> a
array([[ 0.77841574,  0.39654203,  0.38188665,  0.26704305],
       [ 0.27519705,  0.78115866,  0.96019214,  0.59328414],
       [ 0.52008642,  0.10862692,  0.41894881,  0.73581471]])
```

如您所见，这一次是更改形状的起始数组，没有返回任何对象。逆操作也是可能的，也就是说，您可以使用ravel()函数将二维数组转换为一维数组。

```python
>>> a = a.ravel()
array([ 0.77841574,  0.39654203,  0.38188665,  0.26704305,  0.27519705,
        0.78115866,  0.96019214,  0.59328414,  0.52008642,  0.10862692,
        0.41894881,  0.73581471])
```

亦或直接作用于数组本身的shape属性。

```python
>>> a.shape = (12)
>>> a
array([ 0.77841574,  0.39654203,  0.38188665,  0.26704305,  0.27519705,
        0.78115866,  0.96019214,  0.59328414,  0.52008642,  0.10862692,
        0.41894881,  0.73581471])
```

另一个重要的操作是转置矩阵，它是将列与行反转。NumPy为这个特性提供了transpose()函数。

```python
>>> A.transpose()
array([[ 0.77841574,  0.27519705,  0.52008642],
       [ 0.39654203,  0.78115866,  0.10862692],
       [ 0.38188665,  0.96019214,  0.41894881],
       [ 0.26704305,  0.59328414,  0.73581471]])
       
```

